# -*- coding: utf-8 -*-
"""
Generated by ArcGIS ModelBuilder on : 2023-09-21 07:23:01
"""
import arcpy
import bxarcpy
from sys import argv


def main(工作空间=r"C:\Users\common\project\J江东区临江控规\临江控规_数据库.gdb", 输入路径="\\CZ_三调"):  # 用地_格式化_三调字段修改
    # To allow overwriting outputs change overwriteOutput option to True.
    bxarcpy.配置.是否覆盖输出要素(False)
    输入路径 = 工作空间 + 输入路径
    # Process: 更改字段 (更改字段) (management)
    替换字典 = [
        {"字段名称": "BSM", "修改后名称": "标识码", "类型": "字符串", "长度": 18},
        {"字段名称": "YSDM", "修改后名称": "要素代码", "类型": "字符串", "长度": 10},
        {"字段名称": "TBYBH", "修改后名称": "图斑预编号", "类型": "字符串", "长度": 18},
        {"字段名称": "TBBH", "修改后名称": "图斑编号", "类型": "字符串", "长度": 8},
        {"字段名称": "DLBM", "修改后名称": "地类编号", "类型": "字符串", "长度": 5},
        {"字段名称": "DLMC", "修改后名称": "地类名称", "类型": "字符串", "长度": 60},
        {"字段名称": "QSXZ", "修改后名称": "权属性质", "类型": "字符串", "长度": 2},
        {"字段名称": "QSDWDM", "修改后名称": "权属单位代码", "类型": "字符串", "长度": 19},
        {"字段名称": "QSDWMC", "修改后名称": "权属单位名称", "类型": "字符串", "长度": 254},
        {"字段名称": "ZLDWDM", "修改后名称": "坐落单位代码", "类型": "字符串", "长度": 19},
        {"字段名称": "ZLDWMC", "修改后名称": "坐落单位名称", "类型": "字符串", "长度": 254},
        {"字段名称": "TBMJ", "修改后名称": "图斑面积", "类型": "双精度", "长度": 8},
        {"字段名称": "KCDLBM", "修改后名称": "扣除地类编码", "类型": "字符串", "长度": 5},
        {"字段名称": "KCXS", "修改后名称": "扣除地类系数", "类型": "双精度", "长度": 8},
        {"字段名称": "KCMJ", "修改后名称": "扣除地类面积", "类型": "双精度", "长度": 8},
        {"字段名称": "TBDLMJ", "修改后名称": "图斑地类面积", "类型": "双精度", "长度": 8},
        {"字段名称": "GDLX", "修改后名称": "耕地类型", "类型": "字符串", "长度": 2},
        {"字段名称": "GDPDJB", "修改后名称": "耕地坡度级别", "类型": "字符串", "长度": 2},
        {"字段名称": "XZDWKD", "修改后名称": "线状地物宽度", "类型": "双精度", "长度": 8},
        {"字段名称": "TBXHDM", "修改后名称": "图斑细化代码", "类型": "字符串", "长度": 6},
        {"字段名称": "TBXHMC", "修改后名称": "图斑细化名称", "类型": "字符串", "长度": 20},
        {"字段名称": "ZZSXDM", "修改后名称": "种植属性代码", "类型": "字符串", "长度": 6},
        {"字段名称": "ZZSXMC", "修改后名称": "种植属性名称", "类型": "字符串", "长度": 20},
        {"字段名称": "GDDB", "修改后名称": "耕地等比", "类型": "短整型", "长度": 2},
        {"字段名称": "FRDBS", "修改后名称": "飞入地标识", "类型": "字符串", "长度": 1},
        {"字段名称": "CZCSXM", "修改后名称": "城镇村属性码", "类型": "字符串", "长度": 4},
        {"字段名称": "SJNF", "修改后名称": "数据年份", "类型": "长整型", "长度": 4},
        {"字段名称": "MSSM", "修改后名称": "描述说明", "类型": "字符串", "长度": 2},
        {"字段名称": "HDMC", "修改后名称": "海岛名称", "类型": "字符串", "长度": 100},
        {"字段名称": "BZ", "修改后名称": "备注", "类型": "字符串", "长度": 254},
    ]

    输出要素 = 输入路径
    for x in 替换字典:
        try:
            输出要素 = bxarcpy.数据管理.字段修改(输入要素=输出要素, 字段名称=x["字段名称"], 修改后字段名称=x["修改后名称"], 修改后字段别称="", 字段类型=x["类型"], 字段长度=x["长度"], 清除字段别称=True)
            print(x["字段名称"] + " 已被修改为 " + x["修改后名称"])
        except Exception as res:
            print(f"错误信息: {res}")
            print(x["字段名称"] + " 未被修改为 " + x["修改后名称"])


if __name__ == "__main__":
    # Global Environment settings
    with bxarcpy.环境.环境管理器(临时工作空间=r"C:\Users\common\project\J江东区临江控规\临江控规_数据库.gdb", 工作空间=r"C:\Users\common\project\J江东区临江控规\临江控规_数据库.gdb"):
        main(工作空间=r"C:\Users\common\project\J江东区临江控规\临江控规_数据库.gdb", 输入路径="\\YD_三调_2309210721")
